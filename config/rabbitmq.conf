default_permissions.read = .*
default_permissions.configure = .*
default_permissions.write = .*

listeners.tcp.default = 5672

# Security - guest user management handled by init script
# loopback_users = none

management.listener.port = 15672
management.listener.ssl = false

# Memory and performance tuning
vm_memory_high_watermark.relative = 0.7
vm_memory_calculation_strategy = rss

# TCP optimization for high throughput
tcp_listen_options.backlog = 4096
tcp_listen_options.nodelay = true
tcp_listen_options.linger.on = true
tcp_listen_options.linger.timeout = 0
tcp_listen_options.keepalive = true

# Connection and channel limits
num_acceptors.tcp = 20
channel_max = 4096
frame_max = 1048576

# Reduced heartbeat for faster detection
heartbeat = 30

# Prometheus plugin configuration
prometheus.tcp.port = 15692
prometheus.return_per_object_metrics = false

# Load definitions on startup
management.load_definitions = /etc/rabbitmq/definitions.json